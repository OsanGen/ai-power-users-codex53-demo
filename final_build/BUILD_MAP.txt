System Architecture Map

- core.js
  - Exposes AIPU.constants, AIPU.dom, AIPU.state, AIPU.input tokens.
  - Owns enum-like constants for gameplay and overlay states.

- content.js
  - Owns narrative lookup (title/bullets/overlays) and enemy lore.
  - Exposes getNarrativeTeachCard and getDeathLessonCard for overlay cards.

- systems.js
  - Owns input handling, state machine, spawn/kill/update simulation.
  - Drives transitions into UPGRADE_SELECT, LESSON_SLIDE, DEATH_LESSON.

- render.js
  - Owns all canvas rendering, including environment and overlays.
  - Reads state and game/systems helpers to draw HUD, lesson, death lesson, title, and world.

- share.js
  - Owns share modal lifecycle and copy/image generation.

- main.js
  - Boot sequence and game loop (requestAnimationFrame + update/draw wiring).
